<style type="text/css">body{line-height:1.6;font-size:18px;color:#444;}h1,h2,h3{line-height:1.2}code{line-height:normal;font-size:13px;color:normal}</style>


<h1 id="load-balancing-silver-">Load Balancing (Silver)</h1>
<p><a href="https://github.com/mrjmac/competitive-programming/blob/main/USACO/loadBalancingSilver.cpp">GitHub link</a></p>
<p>This is an old usaco silver problem that I found through usaco.guide.</p>
<p>This problem is rather long like all usaco problems, so <a href="http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=619">here</a>&#39;s a link so you can read it.</p>
<p>In the bronze version of this problem, we were able to check every possible different placement of a fence. This was too slow for the silver version of the problem. We can speed up our bronze solution by locking one fence in place and determining the best position for the other fence. Here&#39;s the code for this problem:</p>
<pre><code><span class="hljs-built_in">int</span> findBal(<span class="hljs-built_in">int</span> x_line, <span class="hljs-keyword">const</span> vector&lt;pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;&gt; cows)
{
    vector&lt;pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;&gt; <span class="hljs-built_in">left</span>;
    vector&lt;pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;&gt; <span class="hljs-built_in">right</span>;
    <span class="hljs-keyword">for</span> (pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt; c : cows)
    {
        <span class="hljs-keyword">if</span> (c.first &lt; x_line)
        {
            <span class="hljs-built_in">left</span>.push_back(c);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c.first &gt; x_line)
        {
            <span class="hljs-built_in">right</span>.push_back(c);
        }
    }

    <span class="hljs-built_in">int</span> mostbal = INT32_MAX;
    <span class="hljs-built_in">int</span> left_at = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">int</span> right_at = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (left_at + right_at &lt; (<span class="hljs-built_in">int</span>) cows.size())
    {
        <span class="hljs-built_in">int</span> y_line = cows[left_at + right_at].<span class="hljs-built_in">second</span> + <span class="hljs-number">1</span>;

        <span class="hljs-keyword">while</span> (left_at &lt; (<span class="hljs-built_in">int</span>) <span class="hljs-built_in">left</span>.size() &amp;&amp; y_line &gt; <span class="hljs-built_in">left</span>[left_at].<span class="hljs-built_in">second</span>)
        {
            left_at++;
        }

        <span class="hljs-keyword">while</span> (right_at &lt; (<span class="hljs-built_in">int</span>) <span class="hljs-built_in">right</span>.size() &amp;&amp; y_line &gt; <span class="hljs-built_in">right</span>[right_at].<span class="hljs-built_in">second</span>)
        {
            right_at++;
        }

        <span class="hljs-built_in">int</span> bmax = max(left_at, right_at);
        <span class="hljs-built_in">int</span> amax = max(<span class="hljs-built_in">left</span>.size() - left_at, <span class="hljs-built_in">right</span>.size() - right_at);

        mostbal = min(mostbal, max(amax, bmax));
    }

    return mostbal;
}

<span class="hljs-built_in">int</span> main()
{
    cin.tie(<span class="hljs-number">0</span>)-&gt;sync_with_stdio(<span class="hljs-number">0</span>);
    freopen(<span class="hljs-string">"balancing.in"</span>, <span class="hljs-string">"r"</span>, stdin);
    freopen(<span class="hljs-string">"balancing.out"</span>, <span class="hljs-string">"w"</span>, stdout);

    <span class="hljs-built_in">int</span> n;
    cin &gt;&gt; n;

    vector&lt;pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;&gt; cowsx(n);

    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)
    {
        <span class="hljs-built_in">int</span> x, y;
        cin &gt;&gt; x &gt;&gt; y;
        cowsx[i] = make_pair(x, y);
    }

    sort(cowsx.begin(), cowsx.<span class="hljs-keyword">end</span>(), [](auto &amp;<span class="hljs-built_in">left</span>, auto &amp;<span class="hljs-built_in">right</span>)
    {
        return <span class="hljs-built_in">left</span>.first &lt; <span class="hljs-built_in">right</span>.first;
    });

    vector&lt;pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;&gt; cowsy(cowsx);
    sort(cowsy.begin(), cowsy.<span class="hljs-keyword">end</span>(), [](auto &amp;<span class="hljs-built_in">left</span>, auto &amp;<span class="hljs-built_in">right</span>)
    {
        return <span class="hljs-built_in">left</span>.<span class="hljs-built_in">second</span> &lt; <span class="hljs-built_in">right</span>.<span class="hljs-built_in">second</span>;
    });


    <span class="hljs-built_in">int</span> ans = INT32_MAX;
    <span class="hljs-built_in">int</span> x_line_at = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (x_line_at &lt; (<span class="hljs-built_in">int</span>) cowsx.size())
    {
        <span class="hljs-built_in">int</span> x_line = cowsx[x_line_at].first + <span class="hljs-number">1</span>;
        ans = min(ans, findBal(x_line, cowsy));

        <span class="hljs-keyword">while</span> (x_line_at &lt; n &amp;&amp; x_line &gt; cowsx[x_line_at].first)
        {
            x_line_at++;
        }
    }

    cout &lt;&lt; ans &lt;&lt; <span class="hljs-string">"\n"</span>;
}
</code></pre><p>Entry written 3/11/2023</p>